specVersion: 1.2.0
indexerHints:
  prune: auto
schema:
  file: ./schema.graphql
dataSources:
  - kind: ethereum
    name: HashKeyChainStaking
    network: hashkeychain-sepolia
    source:
      address: "0xDbFF0dCE82E9e9D0BAda19Ef578227c5FB978253"
      abi: HashKeyChainStaking
      startBlock: 8816600
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.9
      language: wasm/assemblyscript
      entities:
        - AnnualBudgetUpdated
        - EarlyWithdrawalPenaltyUpdated
        - EmergencyWithdraw
        - ExchangeRateUpdated
        - HskPerBlockUpdated
        - Initialized
        - InsufficientRewards
        - MaxHskPerBlockUpdated
        - MinStakeAmountUpdated
        - OwnershipTransferred
        - Paused
        - RewardsAdded
        - RewardsClaimed
        - Stake
        - StakingBonusUpdated
        - StakingContractUpgraded
        - TokenTransfer
        - Unpaused
        - Unstake
        - User
      abis:
        - name: HashKeyChainStaking
          file: ./abis/HashKeyChainStaking.json
      eventHandlers:
        - event: AnnualBudgetUpdated(uint256,uint256)
          handler: handleAnnualBudgetUpdated
        - event: EarlyWithdrawalPenaltyUpdated(uint8,uint256,uint256)
          handler: handleEarlyWithdrawalPenaltyUpdated
        - event: EmergencyWithdraw(indexed address,uint256,uint256)
          handler: handleEmergencyWithdraw
        - event: ExchangeRateUpdated(uint256,uint256,uint256)
          handler: handleExchangeRateUpdated
        - event: HskPerBlockUpdated(uint256,uint256)
          handler: handleHskPerBlockUpdated
        - event: Initialized(uint64)
          handler: handleInitialized
        - event: InsufficientRewards(uint256,uint256)
          handler: handleInsufficientRewards
        - event: MaxHskPerBlockUpdated(uint256,uint256)
          handler: handleMaxHskPerBlockUpdated
        - event: MinStakeAmountUpdated(uint256,uint256)
          handler: handleMinStakeAmountUpdated
        - event: OwnershipTransferred(indexed address,indexed address)
          handler: handleOwnershipTransferred
        - event: Paused(address)
          handler: handlePaused
        - event: RewardsAdded(uint256,indexed address)
          handler: handleRewardsAdded
        - event: RewardsClaimed(indexed address,uint256)
          handler: handleRewardsClaimed
        - event: Stake(indexed address,uint256,uint256,uint8,uint256,uint256)
          handler: handleStake
        - event: Unstake(indexed address,uint256,uint256,bool,uint256,uint256)
          handler: handleUnstake
        - event: StakingBonusUpdated(uint8,uint256,uint256)
          handler: handleStakingBonusUpdated
        - event: StakingContractUpgraded(uint256)
          handler: handleStakingContractUpgraded
        - event: Unpaused(address)
          handler: handleUnpaused

      file: ./src/hash-key-chain-staking.ts
  - kind: ethereum
    name: StHSK
    network: hashkeychain-sepolia
    source:
      address: "0x81f4B01E26707Edbaf2168Ed4E20C17f8d28fd8F"
      abi: StHSK
      startBlock: 8809496
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.9
      language: wasm/assemblyscript
      entities:
        - Approval
        - StHSKOwnershipTransferred
        - Transfer
        - TokenTransfer
        - User
      abis:
        - name: StHSK
          file: ./abis/StHSK.json
      eventHandlers:
      - event: Approval(indexed address,indexed address,uint256)
        handler: handleApproval
      - event: OwnershipTransferred(indexed address,indexed address)
        handler: handleOwnershipTransferred
      - event: Transfer(indexed address,indexed address,uint256)
        handler: handleTransfer
      file: ./src/st-hsk.ts